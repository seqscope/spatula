
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://seqscope.github.io/spatula/tools/combine_sbcds/">
      
      
        <link rel="prev" href="../eval_dups_sbcds/">
      
      
        <link rel="next" href="../match_sbcds/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.11">
    
    
      
        <title>combine-sbcds - spatula</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#spatula-combine-sbcds" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="spatula" class="md-header__button md-logo" aria-label="spatula" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            spatula
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              combine-sbcds
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/seqscope/spatula" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    seqscope/spatula
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../quickstart/" class="md-tabs__link">
        
  
    
  
  Quickstart

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../install/" class="md-tabs__link">
        
  
    
  
  Install

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Tools

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="spatula" class="md-nav__button md-logo" aria-label="spatula" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    spatula
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/seqscope/spatula" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    seqscope/spatula
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Analysis of Spatial Barcodes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Analysis of Spatial Barcodes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../build_sbcds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    build-sbcds
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eval_dups_sbcds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eval-dups-sbcds
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    combine-sbcds
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    combine-sbcds
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-options" class="md-nav__link">
    <span class="md-ellipsis">
      Required options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-options" class="md-nav__link">
    <span class="md-ellipsis">
      Additional options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expected-output" class="md-nav__link">
    <span class="md-ellipsis">
      Expected Output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Full Usage
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../match_sbcds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    match-sbcds
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Analysis of Spatial Gene Expression (SGE)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Analysis of Spatial Gene Expression (SGE)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dge2sge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dge2sge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../subset_sge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    subset-sge
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    FASTQ Processing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            FASTQ Processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reformat_fastqs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    reformat-fastqs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom_demux_fastq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    custom-demux-fastq
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Miscellaneous Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Miscellaneous Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../draw_xy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    draw-xy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../draw_3way/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    draw-3way
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../draw_sge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    draw-sge
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-options" class="md-nav__link">
    <span class="md-ellipsis">
      Required options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-options" class="md-nav__link">
    <span class="md-ellipsis">
      Additional options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expected-output" class="md-nav__link">
    <span class="md-ellipsis">
      Expected Output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Full Usage
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="spatula-combine-sbcds">spatula combine-sbcds<a class="headerlink" href="#spatula-combine-sbcds" title="Permanent link">&para;</a></h1>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p><code>spatula combine-sbcds</code> combines spatial barcodes across multiple tiles based on a specified layout of tiles. This tool can be used to generate a spatial barcode map for each 'Chip', a physical unit of spatial transcriptomic experiment, in Seq-Scope platform. </p>
<p>Here is a summary of the main features:</p>
<ul>
<li>Input: Takes (a) a spatial barcode directory from <code>build-sbcds</code> with <code>--sbcd</code>, (b) a manifest file summarizing the files in <code>build-sbcds</code> with <code>--manifest</code>, and &copy; a tile layout for the specified Chip with <code>--layout</code>. Additional options may be used. </li>
<li>Output: Produces a combined map of spatial barcodes in the output directory, containing a single sorted spatial barcode in <code>tsv.gz</code> format with <code>manifest.tsv</code> file. The output spatial coordinates are converted to nanometer scale.</li>
</ul>
<p>An example use of the tool is as follows:</p>
<p><div class="highlight"><pre><span></span><code>spatula<span class="w"> </span>combine-sbcds<span class="w"> </span>--layout<span class="w"> </span>/path/to/layout.tsv<span class="w"> </span><span class="se">\</span>
<span class="w">                      </span>--manifest<span class="w"> </span>/path/to/manifest.tsv<span class="w"> </span><span class="se">\</span>
<span class="w">                      </span>--sbcd<span class="w"> </span>/path/to/sbcd/dir/<span class="w"> </span><span class="se">\</span>
<span class="w">                      </span>--out<span class="w"> </span>/path/to/output/dir/<span class="w"> </span><span class="se">\</span>
<span class="w">                      </span>--rowgap<span class="w"> </span><span class="m">0</span>.0517<span class="w"> </span>--colgap<span class="w"> </span>--0.0048<span class="w"> </span><span class="se">\</span>
<span class="w">                      </span>--max-dup<span class="w"> </span><span class="m">1</span><span class="w"> </span>--max-dup-dist-nm<span class="w"> </span><span class="m">1</span>
</code></pre></div>
See below for a more detailed usage description.</p>
<h2 id="required-options">Required options<a class="headerlink" href="#required-options" title="Permanent link">&para;</a></h2>
<ul>
<li><code>--sbcd</code> : The path to the directory containing spatial barcode files, generated by <code>build-sbcds</code>.</li>
<li><code>--manifest</code> : The <code>manifest.tsv</code> file containing the summary of each file, generated by <code>build-sbcds</code>.</li>
<li><code>--layout</code> : The layout file specifying the spatial arrangement of the tiles to be combined. (If <code>--layout</code> is not available, an <code>--offset</code> file can be specified instead). The layout file must contain the following columns:<ul>
<li><code>lane</code> : The lane number of the tile (can be replaced by the <code>id</code> column)</li>
<li><code>tile</code> : The tile number of the tile (can be replaced by the<code>id</code> column)</li>
<li><code>row</code> : The row number of the tile</li>
<li><code>col</code> : The column number of the tile</li>
<li><code>rowshift</code> : (Optional) Vertical shift of the row coordinate in proportion to the tile height.</li>
<li><code>colshift</code> : (Optional) Horizontal shift of the column coordinate in proportion to the tile width.</li>
<li><code>id</code> : (Optional) The ID of each tile, in the format of <code>lane_tile</code> can be used instead of the <code>lane</code> and <code>tile</code> columns.</li>
</ul>
</li>
<li><code>--out</code> : The output directory that stores the combined spatial barcode file and a manifest file. See <a href="#expected-output">Expected Output</a> for more details.</li>
</ul>
<h2 id="additional-options">Additional options<a class="headerlink" href="#additional-options" title="Permanent link">&para;</a></h2>
<ul>
<li><code>--offset</code> : The offset file can be used instead of <code>--layout</code> to specify the spatial arrangement of  tiles. If the spatial arrangement between tiles is more complicated than a grid-like arrangement, the offset tile can handle a more general arrangement format. The offset file should contain the following columns:<ul>
<li><code>lane</code> : The lane number of the tile (can be replaced by the <code>id</code> column)</li>
<li><code>tile</code> : The tile number of the tile (can be replaced by the <code>id</code> column)</li>
<li><code>offset_x</code> : The offset for the x-coordinate. This is an offset to add to the x-coordinate of the tile in the scale of (original) pixels per tile.</li>
<li><code>offset_y</code> : The offset for the y-coordinate. This is an offset to add to the y-coordinate of the tile in the scale of (original) pixels per tile.</li>
<li><code>id</code> : (Optional) The ID of each tile, in the format of <code>lane_tile</code> can be used instead of the <code>lane</code> and <code>tile</code> columns.</li>
</ul>
</li>
<li><code>--pixel-to-nm</code> : The resolution to pixel coordinates to nanometer scale. The default is 34.78 nm/pixel, which is the resolution of the Seq-Scope platform with Illumina Nova-seq 6000. For Seq-Scope platform with Illumina HiSeq 2500, the resolution is 37.5 nm/pixel. </li>
<li><code>--rowgap</code> : The additional gap between rows, proportional to the maximum height of the tiles. This is used to adjust the spatial coordinates of the tiles. The default value is 0.0.</li>
<li><code>--colgap</code> : The additional gap between columns, proportional to the maximum width of the tiles. This is used to adjust the spatial coordinates of the tiles. The default value is 0.0.</li>
<li><code>--match-len</code> : The length of the spatial barcode to be considered for a match. The default is 27. The maximum possible value is 27.</li>
<li><code>--max-dup</code> : The number of duplicates to allow for each spatial barcode, within the maximum distance threshold specified by <code>--max-dup-dist-nm</code>. The default  is 1, which means no duplicates are allowed.</li>
<li><code>--max-dup-dist-nm</code> : The maximum distance in nanometers allowed for duplicates. The default is 1000.0 nm.</li>
<li><code>--write-all</code> : Write all spatial barcodes to the output file, including duplicate and filtered reads. By default, only the unique spatial barcodes that pass the filtering threshold are written to the output file.</li>
</ul>
<h2 id="expected-output">Expected Output<a class="headerlink" href="#expected-output" title="Permanent link">&para;</a></h2>
<p>In the output directory <code>[outdir]</code>, the following files will be created.</p>
<ul>
<li><code>[outdir]/manifest.tsv</code> : The manifest file containing the information of the combined spatial barcode file. The line contains the following information:<ul>
<li><code>id</code> : ID of the tile as <code>[lane]_[tile]</code></li>
<li><code>filepath</code> : The filename of the combined spatial barcode map, which will be <code>1_1.sbcds.sorted.tsv.gz</code> because there will be only a single lane and tile (<code>1_1</code>) in the output.</li>
<li><code>barcodes</code> : The total number of spatial barcodes found in the tile.</li>
<li><code>matches</code> : The number of barcodes that match the expected format.</li>
<li><code>mismatches</code> : The number of barcodes that do not match the expected format.</li>
<li><code>xmin</code> : The minimum value of the x coordinate in nanometers.</li>
<li><code>xmax</code> : The maximum value of the x coordinate in nanometers.</li>
<li><code>ymin</code> : The minimum value of the y coordinate in nanometers.</li>
<li><code>ymax</code> : The maximum value of the y coordinate in nanometers.</li>
</ul>
</li>
<li><code>[outdir]/1_1.sbcds.sorted.tsv.gz</code> : The combined spatial barcode file in compressed <code>tsv</code> format. Each column in the tsv file contains the following information:<ol>
<li>Spatial barcode sequences (in reverse complement, if specified in the format).</li>
<li>Lane (always 1)</li>
<li>Tile (always 1)</li>
<li>x-coordinate in nanometer scale</li>
<li>y-coordinate in nanometer scale</li>
<li>Number of bases mismatching to the expected pattern defined by the format (0 is perfect match).</li>
</ol>
</li>
<li><code>[outdir]/dupstats.tsv.gz</code> : Duplicate barcode statistics. For each duplicate barcode, the number of duplicates and the maximum distance between them (if within the <code>--max-dup-dist-nm</code> threshold) are reported.</li>
</ul>
<h2 id="full-usage">Full Usage<a class="headerlink" href="#full-usage" title="Permanent link">&para;</a></h2>
<p>The full usage of the software tool is as follows:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>./spatula<span class="w"> </span>combine-sbcds<span class="w"> </span>--help
<span class="o">[</span>./spatula<span class="w"> </span>combine-sbcds<span class="o">]</span><span class="w"> </span>--<span class="w"> </span>Combine<span class="w"> </span>multiple<span class="w"> </span>SBCD<span class="w"> </span>files

<span class="w"> </span>Copyright<span class="w"> </span><span class="o">(</span>c<span class="o">)</span><span class="w"> </span><span class="m">2022</span>-2024<span class="w"> </span>by<span class="w"> </span>Hyun<span class="w"> </span>Min<span class="w"> </span>Kang
<span class="w"> </span>Licensed<span class="w"> </span>under<span class="w"> </span>the<span class="w"> </span>Apache<span class="w"> </span>License<span class="w"> </span>v2.0<span class="w"> </span>http://www.apache.org/licenses/

Detailed<span class="w"> </span>instructions<span class="w"> </span>of<span class="w"> </span>parameters<span class="w"> </span>are<span class="w"> </span>available.<span class="w"> </span>Ones<span class="w"> </span>with<span class="w"> </span><span class="s2">&quot;[]&quot;</span><span class="w"> </span>are<span class="w"> </span><span class="k">in</span><span class="w"> </span>effect:

Available<span class="w"> </span>Options:

<span class="o">==</span><span class="w"> </span>Input<span class="w"> </span><span class="nv">options</span><span class="w"> </span><span class="o">==</span>
<span class="w">   </span>--layout<span class="w">              </span><span class="o">[</span>STR:<span class="w"> </span><span class="o">]</span><span class="w">             </span>:<span class="w"> </span>Layout<span class="w"> </span>file,<span class="w"> </span>each<span class="w"> </span>containing<span class="w"> </span><span class="o">[</span>lane<span class="o">]</span><span class="w"> </span><span class="o">[</span>tile<span class="o">]</span><span class="w"> </span>and<span class="w"> </span><span class="o">[</span>row<span class="o">]</span>/<span class="o">[</span>col<span class="o">]</span><span class="w"> </span>as<span class="w"> </span>columns
<span class="w">   </span>--offset<span class="w">              </span><span class="o">[</span>STR:<span class="w"> </span><span class="o">]</span><span class="w">             </span>:<span class="w"> </span>Offset<span class="w"> </span>file,<span class="w"> </span>each<span class="w"> </span>containing<span class="w"> </span><span class="o">[</span>lane<span class="o">]</span><span class="w"> </span><span class="o">[</span>tile<span class="o">]</span><span class="w"> </span>and<span class="w"> </span><span class="o">[</span>row<span class="o">]</span>/<span class="o">[</span>col<span class="o">]</span><span class="w"> </span>as<span class="w"> </span>columns
<span class="w">   </span>--sbcd<span class="w">                </span><span class="o">[</span>STR:<span class="w"> </span><span class="o">]</span><span class="w">             </span>:<span class="w"> </span>Directory<span class="w"> </span>containing<span class="w"> </span>spatial<span class="w"> </span>barcode<span class="w"> </span>files
<span class="w">   </span>--manifest<span class="w">            </span><span class="o">[</span>STR:<span class="w"> </span><span class="o">]</span><span class="w">             </span>:<span class="w"> </span>Manifest<span class="w"> </span>file<span class="w"> </span>containing<span class="w"> </span>the<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>spatial<span class="w"> </span>barcode<span class="w"> </span>files
<span class="w">   </span>--require-exact-match<span class="w"> </span><span class="o">[</span>FLG:<span class="w"> </span>OFF<span class="o">]</span><span class="w">          </span>:<span class="w"> </span>Require<span class="w"> </span>exact<span class="w"> </span>match<span class="w"> </span>between<span class="w"> </span>manifest<span class="w"> </span>file<span class="w"> </span>and<span class="w"> </span>layout<span class="w"> </span>file.<span class="w"> </span>If<span class="w"> </span>false,<span class="w"> </span>layout<span class="w"> </span>can<span class="w"> </span>only<span class="w"> </span>contain<span class="w"> </span>subset<span class="w"> </span>of<span class="w"> </span>tiles<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>manifest<span class="w"> </span><span class="nv">file</span>

<span class="o">==</span><span class="w"> </span>Output<span class="w"> </span><span class="nv">Options</span><span class="w"> </span><span class="o">==</span>
<span class="w">   </span>--out<span class="w">                 </span><span class="o">[</span>STR:<span class="w"> </span><span class="o">]</span><span class="w">             </span>:<span class="w"> </span>Output<span class="w"> </span>spatial<span class="w"> </span>barcode<span class="w"> </span>file<span class="w"> </span>after<span class="w"> </span>merging
<span class="w">   </span>--write-all<span class="w">           </span><span class="o">[</span>FLG:<span class="w"> </span>OFF<span class="o">]</span><span class="w">          </span>:<span class="w"> </span>Write<span class="w"> </span>all<span class="w"> </span>spatial<span class="w"> </span>barcodes<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>output<span class="w"> </span>file,<span class="w"> </span>including<span class="w"> </span>duplicated<span class="w"> </span>and<span class="w"> </span>filtered<span class="w"> </span><span class="nv">reads</span>

<span class="o">==</span><span class="w"> </span>Options<span class="w"> </span><span class="k">for</span><span class="w"> </span>coordinate<span class="w"> </span><span class="nv">conversion</span><span class="w"> </span><span class="o">==</span>
<span class="w">   </span>--pixel-to-nm<span class="w">         </span><span class="o">[</span>FLT:<span class="w"> </span><span class="m">34</span>.78<span class="o">]</span><span class="w">        </span>:<span class="w"> </span>Pixel<span class="w"> </span>to<span class="w"> </span>nm<span class="w"> </span>conversion<span class="w"> </span>factor<span class="w"> </span><span class="o">(</span><span class="m">37</span>.5<span class="w"> </span><span class="k">for</span><span class="w"> </span>Seq-Scope<span class="o">)</span>
<span class="w">   </span>--rowgap<span class="w">              </span><span class="o">[</span>FLT:<span class="w"> </span><span class="m">0</span>.00<span class="o">]</span><span class="w">         </span>:<span class="w"> </span>Additional<span class="w"> </span>gap<span class="w"> </span>between<span class="w"> </span>rows<span class="w"> </span><span class="o">(</span>proportional<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>height<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>tile<span class="o">)</span>
<span class="w">   </span>--colgap<span class="w">              </span><span class="o">[</span>FLT:<span class="w"> </span><span class="m">0</span>.00<span class="o">]</span><span class="w">         </span>:<span class="w"> </span>Additional<span class="w"> </span>gap<span class="w"> </span>between<span class="w"> </span>columns<span class="w"> </span><span class="o">(</span>proportional<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>width<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>tile<span class="o">)</span>

<span class="o">==</span><span class="w"> </span>Options<span class="w"> </span><span class="k">for</span><span class="w"> </span>duplicate<span class="w"> </span><span class="nv">filtering</span><span class="w"> </span><span class="o">==</span>
<span class="w">   </span>--match-len<span class="w">           </span><span class="o">[</span>INT:<span class="w"> </span><span class="m">27</span><span class="o">]</span><span class="w">           </span>:<span class="w"> </span>Length<span class="w"> </span>of<span class="w"> </span>HDMI<span class="w"> </span>spatial<span class="w"> </span>barcode<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>considered<span class="w"> </span><span class="k">for</span><span class="w"> </span>a<span class="w"> </span>match
<span class="w">   </span>--max-dup<span class="w">             </span><span class="o">[</span>INT:<span class="w"> </span><span class="m">1</span><span class="o">]</span><span class="w">            </span>:<span class="w"> </span>Maximum<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>duplicates<span class="w"> </span>allowed<span class="w"> </span><span class="k">for</span><span class="w"> </span>each<span class="w"> </span>spatial<span class="w"> </span>barcode.<span class="w"> </span>If<span class="w"> </span>this<span class="w"> </span>is<span class="w"> </span><span class="m">1</span>,<span class="w"> </span>duplicates<span class="w"> </span>are<span class="w"> </span>not<span class="w"> </span>allowed
<span class="w">   </span>--max-dup-dist-nm<span class="w">     </span><span class="o">[</span>FLT:<span class="w"> </span><span class="m">10000</span>.00<span class="o">]</span><span class="w">     </span>:<span class="w"> </span>Maximum<span class="w"> </span>distance<span class="w"> </span>allowed<span class="w"> </span><span class="k">for</span><span class="w"> </span>duplicates<span class="w"> </span><span class="k">in</span><span class="w"> </span>nm<span class="w"> </span>scale


NOTES:
When<span class="w"> </span>--help<span class="w"> </span>was<span class="w"> </span>included<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>argument.<span class="w"> </span>The<span class="w"> </span>program<span class="w"> </span>prints<span class="w"> </span>the<span class="w"> </span><span class="nb">help</span><span class="w"> </span>message<span class="w"> </span>but<span class="w"> </span><span class="k">do</span><span class="w"> </span>not<span class="w"> </span>actually<span class="w"> </span>run
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.indexes", "navigation.sections"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>